# XAMPP Domain Manager\n\nA Python-based utility for managing domains and subdomains on an XAMPP stack with automated SSL (Let's Encrypt) provisioning via Cloudflare DNS. \n\nThis script helps you: \n- Configure your main domain and any number of subdomains. \n- Automatically issue and renew SSL certificates with Let's Encrypt using Cloudflare DNS-01 challenge. \n- Manage Apache vhosts and ProFTPD FTP access for each subdomain. \n- Redirect HTTP ‚Üí HTTPS automatically. \n- Create per-subdomain FTP users with secure passwords. \n\n---\n\n## ‚ú® Features\n\n- First-time setup for your main domain with SSL + FTPS. \n- Add/manage subdomains (vhosts, DNS, SSL, FTP users). \n- Automatically configures ProFTPD for FTPS with TLS. \n- Integration with Cloudflare DNS API for certificate automation. \n- Handles vhost cleanup and DNS removal on subdomain deletion. \n\n---\n\n## üìã Prerequisites\n\nMake sure you are running this on a Linux server with root privileges. \n\n### Required software\n- XAMPP (installed in /opt/lampp) \n- Python 3.8+ \n- Certbot (via Snap) with the Cloudflare DNS plugin \n- systemd (for managing conflicting services like Apache and vsftpd) \n\n### Services\n- A registered domain name managed via Cloudflare DNS. \n- Cloudflare API Token with the following permissions: \n - Zone: Read \n - DNS: Edit \n\n---\n\n## üîß Installation\n\n1. Install XAMPP \n Download and install XAMPP from Apache Friends
. \n It should be installed under /opt/lampp. \n\n2. Install prerequisites \n\nbash\n# Update packages\nsudo apt update && sudo apt upgrade -y\n\n# Install Python 3 and pip\nsudo apt install -y python3 python3-pip\n\n# Install Snap (if not already installed)\nsudo apt install -y snapd\n\n# Install certbot with Cloudflare DNS plugin\nsudo snap install core\nsudo snap refresh core\nsudo snap install --classic certbot\nsudo ln -sf /snap/bin/certbot /usr/bin/certbot\nsudo snap set certbot trust-plugin-with-root=ok\nsudo snap install certbot-dns-cloudflare\n\n\n3. Clone this repository \n\nbash\ngit clone https://github.com/yourusername/xampp-domain-manager.git\ncd xampp-domain-manager\n\n\n4. Prepare system \nRun the script once to apply one-time preparation: \n\nbash\nsudo python3 domainmgr.py\n\n\nThis will: \n- Disable system Apache and vsftpd to avoid conflicts. \n- Configure firewall rules (if using UFW). \n- Set up ProFTPD with FTPS support. \n- Prepare necessary directories. \n\n---\n\n## üöÄ Usage\n\n1. First-time setup \nRun the script and follow prompts to configure your main domain: \n\nbash\nsudo python3 domainmgr.py\n\n\nYou‚Äôll be asked for: \n- Cloudflare API token \n- Public IP (auto-detect or manual) \n- Main domain (e.g. example.com) \n- Admin email for Let's Encrypt \n\n2. Add a subdomain \nFrom the menu: \n\n- Choose 1 ‚Üí Add Sub-Domain \n- Enter the subdomain prefix (e.g. test ‚Üí test.example.com) \n- A system FTP user will be created for that subdomain. \n\n3. Manage subdomains \nOptions include: \n- Re-issue SSL certificates \n- Update DNS A record \n- Remove subdomain + vhost \n- Reset FTP password \n\n---\n\n## üìÇ Directory Layout\n\n- Config/data: /opt/lampp/domainmgr/ \n- Apache vhosts: /opt/lampp/etc/extra/httpd-vhosts.conf \n- Vhosts root: /opt/lampp/vhosts/ \n- SSL symlinks: /opt/lampp/ssl/live/<domain> \n- Logs: /opt/lampp/logs/ \n\n---\n\n## ‚ö†Ô∏è Notes\n\n- Must be run as root (sudo). \n- Tested with XAMPP on Ubuntu/Debian. \n- For safety, FTP passwords are shown once only when created/reset ‚Äî store them securely. \n\n---\n\n## üìú License\n\nMIT License ‚Äî feel free to use, modify, and share.
